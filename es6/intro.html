<!DOCTYPE html><html lang="zh-CN" prefix="og: http://ogp.me/ns#"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>ES6简介 - ES6教程 - V站前端教程</title><!-- link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" --><link rel="stylesheet" href="../assets/css/app.min.css"><link rel="stylesheet" href="https://apps.bdimg.com/libs/fontawesome/4.4.0/css/font-awesome.css"><!-- link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.css"--><!-- link rel="stylesheet" href="../assets/css/share.min.css" --><meta property="og:type" content="article"><meta property="og:title" content="ES6简介"><link rel="apple-touch-icon" href="../assets/icons/logo.png"><link rel="icon" type="image/png" href="../assets/icons/logo.png"><style>.nav-item-active{background-color: #fff;color:#9cba39}
      a{color:#399ab2}
      a:hover{color:#9cba39}
      .breadcrumb a{color:#399ab2}
      .breadcrumb a:hover{color:#9cba39}
      .navbar.is-light .navbar-end .navbar-link, .navbar.is-light .navbar-end>.navbar-item, 
      .navbar.is-light .navbar-start>.navbar-item:hover{color:#9cba39}
      .navbar-link, a.navbar-item:hover{color:#9cba39}
      .footer{padding:1.5rem 0;}

      .panel-info .panel-block .menu-list a.is-active, .panel-menu .panel-block .menu-list a.is-active {
        color: #fff;
        background-color: #399ab2;
      }
      .menu-list>li{background:#F9F9F9;border-bottom: 1px solid #ededed;} 
      .menu-list .menu-item-title{height: 35px;line-height: 35px;text-align: center;background-color: #EDEDED;color:#9cba39;font-weight: bold;}
      .menu-list > li > a .menu-list-title::before {
          font-weight: 700;
          content: "";
      }

      .panel-info .panel-block .menu, .panel-menu .panel-block .menu{padding:0 5px}</style></head><body><nav class="navbar is-light" role="navigation" id="navbar" aria-label="main navigation"><div class="container" style="max-width:1230px;"><div class="navbar-brand"><a href="/" class="navbar-item title has-text-grey has-text-weight-light is-5">V站 / ViJian.com</a></div><div class="navbar-menu" id="navMenu"><div class="navbar-start"><div class="navbar-item"><a class="navbar-item" href="/">首页</a></div><div class="navbar-item has-dropdown is-hoverable"><a class="navbar-link nav-item-active is-hidden-touch">教程</a><div class="navbar-dropdown"><a class="navbar-item" href="/html/intro.html">HTML 教程</a> <a class="navbar-item" href="/javascript/intro.html">JavaScript 教程</a> <a class="navbar-item" href="/es6/intro.html">ES6 教程</a> <a class="navbar-item" href="/typescript/intro.html">TypeScript 教程</a><!--   <a class="navbar-item" href="/webapi/intro.html">Web API 教程</a>
             <a class="navbar-item" href="/css/intro.html">CSS 教程</a>
       --></div></div></div><div class="navbar-end"></div></div></div></nav><section class="section main article" style="padding-top: 20px;"><div class="container" style="max-width:1260px;"><div class="columns"><div class="column" style="flex:none;width:16%"><nav class="panel-menu" style="border: 1px solid #ededed;"><p class="panel-heading" style="font-size: 1.0em;border-radius:0px;padding: 0.5em 0em;text-align: center;"><i class="fa fa-book" aria-hidden="true"></i> ES6教程</p><div class="panel-block" style="padding: 5px 0px;"><aside class="menu"><ul class="menu-list"><li class="1_item"><a href="../es6/intro.html" class="is-active">&nbsp; <span class="menu-list-title" style="width:100%">1.简介</span></a></li><li class="1_item"><a href="../es6/let.html">&nbsp; <span class="menu-list-title" style="width:100%">2.let 和 const 命令</span></a></li><li class="1_item"><a href="../es6/destructuring.html">&nbsp; <span class="menu-list-title" style="width:100%">3.变量的解构赋值</span></a></li><li class="1_item"><a href="../es6/string.html">&nbsp; <span class="menu-list-title" style="width:100%">4.字符串的扩展</span></a></li><li class="1_item"><a href="../es6/string-methods.html">&nbsp; <span class="menu-list-title" style="width:100%">5.字符串的新增方法</span></a></li><li class="1_item"><a href="../es6/regex.html">&nbsp; <span class="menu-list-title" style="width:100%">6.正则的扩展</span></a></li><li class="1_item"><a href="../es6/number.html">&nbsp; <span class="menu-list-title" style="width:100%">7.数值的扩展</span></a></li><li class="1_item"><a href="../es6/function.html">&nbsp; <span class="menu-list-title" style="width:100%">8.函数的扩展</span></a></li><li class="1_item"><a href="../es6/array.html">&nbsp; <span class="menu-list-title" style="width:100%">9.数组的扩展</span></a></li><li class="1_item"><a href="../es6/object.html">&nbsp; <span class="menu-list-title" style="width:100%">10.对象的扩展</span></a></li><li class="1_item"><a href="../es6/object-methods.html">&nbsp; <span class="menu-list-title" style="width:100%">11.对象的新增方法</span></a></li><li class="1_item"><a href="../es6/operator.html">&nbsp; <span class="menu-list-title" style="width:100%">12.运算符的扩展</span></a></li><li class="1_item"><a href="../es6/symbol.html">&nbsp; <span class="menu-list-title" style="width:100%">13.Symbol</span></a></li><li class="1_item"><a href="../es6/set-map.html">&nbsp; <span class="menu-list-title" style="width:100%">14.Set 和 Map 数据结构</span></a></li><li class="1_item"><a href="../es6/proxy.html">&nbsp; <span class="menu-list-title" style="width:100%">15.Proxy</span></a></li><li class="1_item"><a href="../es6/reflect.html">&nbsp; <span class="menu-list-title" style="width:100%">16.Reflect</span></a></li><li class="1_item"><a href="../es6/promise.html">&nbsp; <span class="menu-list-title" style="width:100%">17.Promise 对象</span></a></li><li class="1_item"><a href="../es6/iterator.html">&nbsp; <span class="menu-list-title" style="width:100%">18.Iterator 和 for...of 循环</span></a></li><li class="1_item"><a href="../es6/generator.html">&nbsp; <span class="menu-list-title" style="width:100%">19.Generator 函数的语法</span></a></li><li class="1_item"><a href="../es6/generator-async.html">&nbsp; <span class="menu-list-title" style="width:100%">20.Generator 函数的异步应用</span></a></li><li class="1_item"><a href="../es6/async.html">&nbsp; <span class="menu-list-title" style="width:100%">21.async 函数</span></a></li><li class="1_item"><a href="../es6/class.html">&nbsp; <span class="menu-list-title" style="width:100%">22.Class 的基本语法</span></a></li><li class="1_item"><a href="../es6/class-extends.html">&nbsp; <span class="menu-list-title" style="width:100%">23.Class 的继承</span></a></li><li class="1_item"><a href="../es6/module.html">&nbsp; <span class="menu-list-title" style="width:100%">24.Module 的语法</span></a></li><li class="1_item"><a href="../es6/module-loader.html">&nbsp; <span class="menu-list-title" style="width:100%">25.Module 的加载实现</span></a></li><li class="1_item"><a href="../es6/style.html">&nbsp; <span class="menu-list-title" style="width:100%">26.编程风格</span></a></li><li class="1_item"><a href="../es6/spec.html">&nbsp; <span class="menu-list-title" style="width:100%">27.读懂 ECMAScript 规格</span></a></li><li class="1_item"><a href="../es6/async-iterator.html">&nbsp; <span class="menu-list-title" style="width:100%">28.异步遍历器</span></a></li><li class="1_item"><a href="../es6/arraybuffer.html">&nbsp; <span class="menu-list-title" style="width:100%">29.ArrayBuffer</span></a></li><li class="1_item"><a href="../es6/proposals.html">&nbsp; <span class="menu-list-title" style="width:100%">30.最新提案</span></a></li><li class="1_item"><a href="../es6/decorator.html">&nbsp; <span class="menu-list-title" style="width:100%">31.装饰器</span></a></li><li class="1_item"><a href="../es6/mixin.html">&nbsp; <span class="menu-list-title" style="width:100%">32.Mixin</span></a></li><li class="1_item"><a href="../es6/fp.html">&nbsp; <span class="menu-list-title" style="width:100%">33.函数式编程</span></a></li><li class="1_item"><a href="../es6/simd.html">&nbsp; <span class="menu-list-title" style="width:100%">34.SIMD</span></a></li><li class="1_item"><a href="../es6/reference.html">&nbsp; <span class="menu-list-title" style="width:100%">35.参考链接</span></a></li></ul></aside></div></nav></div><div class="column" style="flex:none;width:68%"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="../"><span class="icon"><i class="fa fa-home"></i></span> &nbsp;V站</a></li><li><a href="../es6/intro.html">ES6教程</a></li><li><a href="../es6/intro.html">ES6 简介</a></li></ul></nav><nav class="level level-previous-next is-mobile"><!-- Left side --><div class="level-left"><p class="level-item is-narrow"></p></div><div class="level-right"><p class="level-item is-narrow"><a href="../es6/let.html">let 和 const 命令 <span class="icon"><i class="fa fa-toggle-right"></i></span></a></p></div></nav><article class="content"><h1 class="title">ES6 简介</h1><div class="page-meta"><p>V站（ViJian.com）</p></div><p>ECMAScript 6.0（以下简称 ES6）是 JavaScript 语言的下一代标准，已经在 2015 年 6 月正式发布了。它的目标，是使得 JavaScript 语言可以用来编写复杂的大型应用程序，成为企业级开发语言。</p><h2 id="ecmascript-和-javascript-的关系">ECMAScript 和 JavaScript 的关系 <a class="markdownIt-Anchor" href="#ecmascript-和-javascript-的关系">#</a></h2><p>一个常见的问题是，ECMAScript 和 JavaScript 到底是什么关系？</p><p>要讲清楚这个问题，需要回顾历史。1996 年 11 月，JavaScript 的创造者 Netscape 公司，决定将 JavaScript 提交给标准化组织 ECMA，希望这种语言能够成为国际标准。次年，ECMA 发布 262 号标准文件（ECMA-262）的第一版，规定了浏览器脚本语言的标准，并将这种语言称为 ECMAScript，这个版本就是 1.0 版。</p><p>该标准从一开始就是针对 JavaScript 语言制定的，但是之所以不叫 JavaScript，有两个原因。一是商标，Java 是 Sun 公司的商标，根据授权协议，只有 Netscape 公司可以合法地使用 JavaScript 这个名字，且 JavaScript 本身也已经被 Netscape 公司注册为商标。二是想体现这门语言的制定者是 ECMA，不是 Netscape，这样有利于保证这门语言的开放性和中立性。</p><p>因此，ECMAScript 和 JavaScript 的关系是，前者是后者的规格，后者是前者的一种实现（另外的 ECMAScript 方言还有 JScript 和 ActionScript）。日常场合，这两个词是可以互换的。</p><h2 id="es6-与-ecmascript-2015-的关系">ES6 与 ECMAScript 2015 的关系 <a class="markdownIt-Anchor" href="#es6-与-ecmascript-2015-的关系">#</a></h2><p>ECMAScript 2015（简称 ES2015）这个词，也是经常可以看到的。它与 ES6 是什么关系呢？</p><p>2011 年，ECMAScript 5.1 版发布后，就开始制定 6.0 版了。因此，ES6 这个词的原意，就是指 JavaScript 语言的下一个版本。</p><p>但是，因为这个版本引入的语法功能太多，而且制定过程当中，还有很多组织和个人不断提交新功能。事情很快就变得清楚了，不可能在一个版本里面包括所有将要引入的功能。常规的做法是先发布 6.0 版，过一段时间再发 6.1 版，然后是 6.2 版、6.3 版等等。</p><p>但是，标准的制定者不想这样做。他们想让标准的升级成为常规流程：任何人在任何时候，都可以向标准委员会提交新语法的提案，然后标准委员会每个月开一次会，评估这些提案是否可以接受，需要哪些改进。如果经过多次会议以后，一个提案足够成熟了，就可以正式进入标准了。这就是说，标准的版本升级成为了一个不断滚动的流程，每个月都会有变动。</p><p>标准委员会最终决定，标准在每年的 6 月份正式发布一次，作为当年的正式版本。接下来的时间，就在这个版本的基础上做改动，直到下一年的 6 月份，草案就自然变成了新一年的版本。这样一来，就不需要以前的版本号了，只要用年份标记就可以了。</p><p>ES6 的第一个版本，就这样在 2015 年 6 月发布了，正式名称就是《ECMAScript 2015 标准》（简称 ES2015）。2016 年 6 月，小幅修订的《ECMAScript 2016 标准》（简称 ES2016）如期发布，这个版本可以看作是 ES6.1 版，因为两者的差异非常小（只新增了数组实例的<code>includes</code>方法和指数运算符），基本上是同一个标准。根据计划，2017 年 6 月发布 ES2017 标准。</p><p>因此，ES6 既是一个历史名词，也是一个泛指，含义是 5.1 版以后的 JavaScript 的下一代标准，涵盖了 ES2015、ES2016、ES2017 等等，而 ES2015 则是正式名称，特指该年发布的正式版本的语言标准。本书中提到 ES6 的地方，一般是指 ES2015 标准，但有时也是泛指“下一代 JavaScript 语言”。</p><h2 id="语法提案的批准流程">语法提案的批准流程 <a class="markdownIt-Anchor" href="#语法提案的批准流程">#</a></h2><p>任何人都可以向标准委员会（又称 TC39 委员会）提案，要求修改语言标准。</p><p>一种新的语法从提案到变成正式标准，需要经历五个阶段。每个阶段的变动都需要由 TC39 委员会批准。</p><ul><li>Stage 0 - Strawman（展示阶段）</li><li>Stage 1 - Proposal（征求意见阶段）</li><li>Stage 2 - Draft（草案阶段）</li><li>Stage 3 - Candidate（候选人阶段）</li><li>Stage 4 - Finished（定案阶段）</li></ul><p>一个提案只要能进入 Stage 2，就差不多肯定会包括在以后的正式标准里面。ECMAScript 当前的所有提案，可以在 TC39 的官方网站<a href="https://github.com/tc39/ecma262" target="_blank" rel="noopener">GitHub.com/tc39/ecma262</a>查看。</p><p>本书的写作目标之一，是跟踪 ECMAScript 语言的最新进展，介绍 5.1 版本以后所有的新语法。对于那些明确或很有希望，将要列入标准的新语法，都将予以介绍。</p><h2 id="ecmascript-的历史">ECMAScript 的历史 <a class="markdownIt-Anchor" href="#ecmascript-的历史">#</a></h2><p>ES6 从开始制定到最后发布，整整用了 15 年。</p><p>前面提到，ECMAScript 1.0 是 1997 年发布的，接下来的两年，连续发布了 ECMAScript 2.0（1998 年 6 月）和 ECMAScript 3.0（1999 年 12 月）。3.0 版是一个巨大的成功，在业界得到广泛支持，成为通行标准，奠定了 JavaScript 语言的基本语法，以后的版本完全继承。直到今天，初学者一开始学习 JavaScript，其实就是在学 3.0 版的语法。</p><p>2000 年，ECMAScript 4.0 开始酝酿。这个版本最后没有通过，但是它的大部分内容被 ES6 继承了。因此，ES6 制定的起点其实是 2000 年。</p><p>为什么 ES4 没有通过呢？因为这个版本太激进了，对 ES3 做了彻底升级，导致标准委员会的一些成员不愿意接受。ECMA 的第 39 号技术专家委员会（Technical Committee 39，简称 TC39）负责制订 ECMAScript 标准，成员包括 Microsoft、Mozilla、Google 等大公司。</p><p>2007 年 10 月，ECMAScript 4.0 版草案发布，本来预计次年 8 月发布正式版本。但是，各方对于是否通过这个标准，发生了严重分歧。以 Yahoo、Microsoft、Google 为首的大公司，反对 JavaScript 的大幅升级，主张小幅改动；以 JavaScript 创造者 Brendan Eich 为首的 Mozilla 公司，则坚持当前的草案。</p><p>2008 年 7 月，由于对于下一个版本应该包括哪些功能，各方分歧太大，争论过于激烈，ECMA 开会决定，中止 ECMAScript 4.0 的开发，将其中涉及现有功能改善的一小部分，发布为 ECMAScript 3.1，而将其他激进的设想扩大范围，放入以后的版本，由于会议的气氛，该版本的项目代号起名为 Harmony（和谐）。会后不久，ECMAScript 3.1 就改名为 ECMAScript 5。</p><p>2009 年 12 月，ECMAScript 5.0 版正式发布。Harmony 项目则一分为二，一些较为可行的设想定名为 JavaScript.next 继续开发，后来演变成 ECMAScript 6；一些不是很成熟的设想，则被视为 JavaScript.next.next，在更远的将来再考虑推出。TC39 委员会的总体考虑是，ES5 与 ES3 基本保持兼容，较大的语法修正和新功能加入，将由 JavaScript.next 完成。当时，JavaScript.next 指的是 ES6，第六版发布以后，就指 ES7。TC39 的判断是，ES5 会在 2013 年的年中成为 JavaScript 开发的主流标准，并在此后五年中一直保持这个位置。</p><p>2011 年 6 月，ECMAScript 5.1 版发布，并且成为 ISO 国际标准（ISO/IEC 16262:2011）。</p><p>2013 年 3 月，ECMAScript 6 草案冻结，不再添加新功能。新的功能设想将被放到 ECMAScript 7。</p><p>2013 年 12 月，ECMAScript 6 草案发布。然后是 12 个月的讨论期，听取各方反馈。</p><p>2015 年 6 月，ECMAScript 6 正式通过，成为国际标准。从 2000 年算起，这时已经过去了 15 年。</p><p>目前，各大浏览器对 ES6 的支持可以查看<a href="https://compat-table.github.io/compat-table/es6/" target="_blank" rel="noopener">https://compat-table.github.io/compat-table/es6/</a>。</p><p>Node.js 是 JavaScript 的服务器运行环境（runtime）。它对 ES6 的支持度更高。除了那些默认打开的功能，还有一些语法功能已经实现了，但是默认没有打开。使用下面的命令，可以查看 Node.js 默认没有打开的实验性语法。</p><pre class="hljs"><code>// Linux &amp; Mac
$ node --v8-options | grep harmony

// Windows
$ node --v8-options | findstr harmony
</code></pre><h2 id="babel-转码器">Babel 转码器 <a class="markdownIt-Anchor" href="#babel-转码器">#</a></h2><p><a href="https://babeljs.io/" target="_blank" rel="noopener">Babel</a> 是一个广泛使用的 ES6 转码器，可以将 ES6 代码转为 ES5 代码，从而在老版本的浏览器执行。这意味着，你可以用 ES6 的方式编写程序，又不用担心现有环境是否支持。下面是一个例子。</p><pre class="hljs"><code><span class="hljs-comment">// 转码前</span>
input.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item + <span class="hljs-number">1</span>);

<span class="hljs-comment">// 转码后</span>
input.<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) {
  <span class="hljs-keyword">return</span> item + <span class="hljs-number">1</span>;
});
</code></pre><p>上面的原始代码用了箭头函数，Babel 将其转为普通函数，就能在不支持箭头函数的 JavaScript 环境执行了。</p><p>下面的命令在项目目录中，安装 Babel。</p><pre class="hljs"><code>$ npm install --save-dev @babel/core
</code></pre><h3 id="配置文件babelrc">配置文件<code>.babelrc</code> <a class="markdownIt-Anchor" href="#配置文件babelrc">#</a></h3><p>Babel 的配置文件是<code>.babelrc</code>，存放在项目的根目录下。使用 Babel 的第一步，就是配置这个文件。</p><p>该文件用来设置转码规则和插件，基本格式如下。</p><pre class="hljs"><code>{
  <span class="hljs-string">&quot;presets&quot;</span>: [],
  <span class="hljs-string">&quot;plugins&quot;</span>: []
}
</code></pre><p><code>presets</code>字段设定转码规则，官方提供以下的规则集，你可以根据需要安装。</p><pre class="hljs"><code><span class="hljs-comment"># 最新转码规则</span>
$ npm install --save-dev @babel/preset-env

<span class="hljs-comment"># react 转码规则</span>
$ npm install --save-dev @babel/preset-react
</code></pre><p>然后，将这些规则加入<code>.babelrc</code>。</p><pre class="hljs"><code>  {
    <span class="hljs-string">&quot;presets&quot;</span>: [
      <span class="hljs-string">&quot;@babel/env&quot;</span>,
      <span class="hljs-string">&quot;@babel/preset-react&quot;</span>
    ],
    <span class="hljs-string">&quot;plugins&quot;</span>: []
  }
</code></pre><p>注意，以下所有 Babel 工具和模块的使用，都必须先写好<code>.babelrc</code>。</p><h3 id="命令行转码">命令行转码 <a class="markdownIt-Anchor" href="#命令行转码">#</a></h3><p>Babel 提供命令行工具<code>@babel/cli</code>，用于命令行转码。</p><p>它的安装命令如下。</p><pre class="hljs"><code>$ npm install --save-dev @babel/cli
</code></pre><p>基本用法如下。</p><pre class="hljs"><code><span class="hljs-comment"># 转码结果输出到标准输出</span>
$ npx babel example.js

<span class="hljs-comment"># 转码结果写入一个文件</span>
<span class="hljs-comment"># --out-file 或 -o 参数指定输出文件</span>
$ npx babel example.js --out-file compiled.js
<span class="hljs-comment"># 或者</span>
$ npx babel example.js -o compiled.js

<span class="hljs-comment"># 整个目录转码</span>
<span class="hljs-comment"># --out-dir 或 -d 参数指定输出目录</span>
$ npx babel src --out-dir lib
<span class="hljs-comment"># 或者</span>
$ npx babel src -d lib

<span class="hljs-comment"># -s 参数生成source map文件</span>
$ npx babel src -d lib -s
</code></pre><h3 id="babel-node">babel-node <a class="markdownIt-Anchor" href="#babel-node">#</a></h3><p><code>@babel/node</code>模块的<code>babel-node</code>命令，提供一个支持 ES6 的 REPL 环境。它支持 Node 的 REPL 环境的所有功能，而且可以直接运行 ES6 代码。</p><p>首先，安装这个模块。</p><pre class="hljs"><code>$ npm install --save-dev @babel/node
</code></pre><p>然后，执行<code>babel-node</code>就进入 REPL 环境。</p><pre class="hljs"><code>$ npx babel-node
&gt; (x =&gt; x * 2)(1)
2
</code></pre><p><code>babel-node</code>命令可以直接运行 ES6 脚本。将上面的代码放入脚本文件<code>es6.js</code>，然后直接运行。</p><pre class="hljs"><code><span class="hljs-comment"># es6.js 的代码</span>
<span class="hljs-comment"># console.log((x =&gt; x * 2)(1));</span>
$ npx babel-node es6.js
2
</code></pre><h3 id="babelregister-模块">@babel/register 模块 <a class="markdownIt-Anchor" href="#babelregister-模块">#</a></h3><p><code>@babel/register</code>模块改写<code>require</code>命令，为它加上一个钩子。此后，每当使用<code>require</code>加载<code>.js</code>、<code>.jsx</code>、<code>.es</code>和<code>.es6</code>后缀名的文件，就会先用 Babel 进行转码。</p><pre class="hljs"><code>$ npm install --save-dev @babel/register
</code></pre><p>使用时，必须首先加载<code>@babel/register</code>。</p><pre class="hljs"><code>// index.js
require(<span class="hljs-string">&#x27;@babel/register&#x27;</span>);
require(<span class="hljs-string">&#x27;./es6.js&#x27;</span>);
</code></pre><p>然后，就不需要手动对<code>index.js</code>转码了。</p><pre class="hljs"><code>$ node index.js
2
</code></pre><p>需要注意的是，<code>@babel/register</code>只会对<code>require</code>命令加载的文件转码，而不会对当前文件转码。另外，由于它是实时转码，所以只适合在开发环境使用。</p><h3 id="polyfill">polyfill <a class="markdownIt-Anchor" href="#polyfill">#</a></h3><p>Babel 默认只转换新的 JavaScript 句法（syntax），而不转换新的 API，比如<code>Iterator</code>、<code>Generator</code>、<code>Set</code>、<code>Map</code>、<code>Proxy</code>、<code>Reflect</code>、<code>Symbol</code>、<code>Promise</code>等全局对象，以及一些定义在全局对象上的方法（比如<code>Object.assign</code>）都不会转码。</p><p>举例来说，ES6 在<code>Array</code>对象上新增了<code>Array.from</code>方法。Babel 就不会转码这个方法。如果想让这个方法运行，可以使用<code>core-js</code>和<code>regenerator-runtime</code>(后者提供generator函数的转码)，为当前环境提供一个垫片。</p><p>安装命令如下。</p><pre class="hljs"><code>$ npm install --save-dev core-js regenerator-runtime
</code></pre><p>然后，在脚本头部，加入如下两行代码。</p><pre class="hljs"><code><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;core-js&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;regenerator-runtime/runtime&#x27;</span>;
<span class="hljs-comment">// 或者</span>
<span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;core-js&#x27;</span>);
<span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;regenerator-runtime/runtime&#x27;</span>);
</code></pre><p>Babel 默认不转码的 API 非常多，详细清单可以查看<code>babel-plugin-transform-runtime</code>模块的<a href="https://github.com/babel/babel/blob/master/packages/babel-plugin-transform-runtime/src/runtime-corejs3-definitions.js" target="_blank" rel="noopener">definitions.js</a>文件。</p><h3 id="浏览器环境">浏览器环境 <a class="markdownIt-Anchor" href="#浏览器环境">#</a></h3><p>Babel 也可以用于浏览器环境，使用<a href="https://babeljs.io/docs/en/next/babel-standalone.html" target="_blank" rel="noopener">@babel/standalone</a>模块提供的浏览器版本，将其插入网页。</p><pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://unpkg.com/@babel/standalone/babel.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/babel&quot;</span>&gt;</span><span class="language-javascript">
<span class="hljs-comment">// Your ES6 code</span>
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre><p>注意，网页实时将 ES6 代码转为 ES5，对性能会有影响。生产环境需要加载已经转码完成的脚本。</p><p>Babel 提供一个<a href="https://babeljs.io/repl/" target="_blank" rel="noopener">REPL 在线编译器</a>，可以在线将 ES6 代码转为 ES5 代码。转换后的代码，可以直接作为 ES5 代码插入网页运行。</p></article><nav class="level level-previous-next is-mobile"><!-- Left side --><div class="level-left"><p class="level-item is-narrow"></p></div><div class="level-right"><p class="level-item is-narrow"><a href="../es6/let.html">let 和 const 命令 <span class="icon"><i class="fa fa-toggle-right"></i></span></a></p></div></nav><div class="page-info"><p>分享本文 <span class="social-share"></span></p></div></div><div class="column" style="flex:none;width:14%"><nav class="panel-info" style="border: 1px solid #ededed;"><p class="panel-heading" style="font-size: 1.0em;border-radius:0px;padding: 0.5em 0em;text-align: center;"><i class="fa fa-list-ul" aria-hidden="true"></i> Web前端教程</p><div class="panel-block" style="padding: 5px 0px;"><aside class="menu"><ul class="menu-list"><li><a href="/html/intro.html" target="_blank">&nbsp;HTML 教程</a></li><li><a href="/javascript/intro.html" target="_blank">&nbsp;JavaScript 教程</a></li><li><a href="/es6/intro.html" target="_blank">&nbsp;ES6 教程</a></li><li><a href="/typescript/intro.html" target="_blank">&nbsp;TypeScript 教程</a></li><!-- 
      <li><a href="/css/intro.html" target="_blank">&nbsp;CSS 教程</a></li>
   
      <li><a href="/webapi/intro.html" target="_blank">&nbsp;Web API 教程</a></li>
    --></ul></aside></div></nav></div></div></div></section><footer class="footer"><div class="container" style="max-width:1260px;"><div class="content has-text-centered"><p>V站（ViJian.com），上V站学全栈、全职兼职都能干<br><span>京ICP备13026726号-3</span></p></div></div></footer><script>var LOPPO={current_path:"es6/intro.md",relative_root_path:"../",article_toc:'<ul class="markdownIt-TOC">\n<li><a href="#ecmascript-%E5%92%8C-javascript-%E7%9A%84%E5%85%B3%E7%B3%BB">ECMAScript 和 JavaScript 的关系</a></li>\n<li><a href="#es6-%E4%B8%8E-ecmascript-2015-%E7%9A%84%E5%85%B3%E7%B3%BB">ES6 与 ECMAScript 2015 的关系</a></li>\n<li><a href="#%E8%AF%AD%E6%B3%95%E6%8F%90%E6%A1%88%E7%9A%84%E6%89%B9%E5%87%86%E6%B5%81%E7%A8%8B">语法提案的批准流程</a></li>\n<li><a href="#ecmascript-%E7%9A%84%E5%8E%86%E5%8F%B2">ECMAScript 的历史</a></li>\n<li><a href="#babel-%E8%BD%AC%E7%A0%81%E5%99%A8">Babel 转码器</a>\n<ul>\n<li><a href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6babelrc">配置文件<code>.babelrc</code></a></li>\n<li><a href="#%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%BD%AC%E7%A0%81">命令行转码</a></li>\n<li><a href="#babel-node">babel-node</a></li>\n<li><a href="#babelregister-%E6%A8%A1%E5%9D%97">@babel/register 模块</a></li>\n<li><a href="#polyfill">polyfill</a></li>\n<li><a href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E7%8E%AF%E5%A2%83">浏览器环境</a></li>\n</ul>\n</li>\n</ul>\n'}</script><script src="../assets/js/app.js"></script><!--script src="../assets/js/social-share.min.js"--><!--/script--><script>var shareDesc="我正在阅读《ES6 简介》，出自V站（ViJian.com）。",shareOpts={url:window.location.href,source:shareDesc,title:shareDesc,description:"",image:"",sites:["weibo","wechat","qq","qzone","twitter","facebook"],origin:"ViJian_com",disabled:[],wechatQrcodeTitle:"微信",wechatQrcodeHelper:"扫一下二维码，分享到微信。"};socialShare(".social-share",shareOpts)</script><script></script></body></html>